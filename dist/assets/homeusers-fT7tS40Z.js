import{r as n,a6 as A,j as e,k as o,f as U,a9 as B,aa as O,ab as H,S as g,ag as h,E as W,ac as q,J as y,K as m,ad as z,I as P,F as M,ae as V,A as F,B as K,af as L,a7 as D,a8 as J,P as N}from"./index-BXVaN-Bg.js";function X(){const[d,C]=n.useState([]),[b,p]=n.useState(!0),[j,G]=n.useState(null),[l,R]=n.useState("asc"),[r,S]=n.useState("name"),[u,k]=n.useState(0),[c,w]=n.useState(25),{project_id:f}=A(),x=[{key:"name",label:"Employee name",icon:"solar:user-outline",sortable:!0},{key:"total_tasks",label:"Total Tasks",icon:"bi:list-task",sortable:!0},{key:"completed_tasks",label:"Completed Tasks",icon:"hugeicons:task-done-02",sortable:!0},{key:"inprogress_tasks",label:"In-Progress Tasks",icon:"qlementine-icons:task-soon-16",sortable:!0},{key:"pending_tasks",label:e.jsxs("div",{style:{whiteSpace:"nowrap"},children:["Pending Tasks ",e.jsx("br",{}),"(To-Do tasks)"]}),icon:"qlementine-icons:task-past-16",sortable:!0},{key:"completed_overrun",label:"Completed Overrun",icon:"fluent-mdl2:recurring-task",sortable:!0},{key:"inprogress_overrun",label:"In-Progress Overrun",icon:"carbon:task-asset-view",sortable:!0}];n.useEffect(()=>{(async()=>{p(!0);try{const s=await D.post(J.tasks.taskEmployeeReport,{project_id:f});C(s.data),p(!1)}catch{p(!0)}})()},[f]);const I=t=>{R(r===t&&l==="asc"?"desc":"asc"),S(t)},v=d.slice().sort((t,s)=>{if(r){const a=t[r],i=s[r];return typeof a=="string"&&typeof i=="string"?l==="asc"?a.localeCompare(i):i.localeCompare(a):typeof a=="number"&&typeof i=="number"?l==="asc"?a-i:i-a:0}return 0}),_=(t,s)=>{k(s)},E=t=>{w(parseInt(t.target.value,10)),k(0)};return j?e.jsx(o,{color:"error",children:j}):e.jsxs(U,{component:B,sx:{borderRadius:2,overflowX:"auto",margin:{xs:1,sm:2,md:4}},children:[e.jsxs(O,{children:[e.jsx(H,{sx:{display:"flex",justifyContent:"space-between",padding:{xs:1,sm:2}},children:e.jsx(o,{variant:"subtitle1",children:"Employee Task Report"})}),b?e.jsxs(g,{spacing:2,sx:{padding:2},children:[e.jsx(h,{variant:"rectangular",height:40}),e.jsx(h,{variant:"rectangular",height:40}),e.jsx(h,{variant:"rectangular",height:40})]}):e.jsxs(W,{children:[e.jsx(q,{children:e.jsx(y,{children:x.map(t=>e.jsx(m,{sx:{minWidth:160,textAlign:"center"},children:t.sortable?e.jsx(z,{active:r===t.key,direction:r===t.key?l:"asc",onClick:()=>I(t.key),children:e.jsxs("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[e.jsx(P,{icon:t.icon,width:20,sx:{color:"grey.500"}}),e.jsx(o,{variant:"body2",children:t.label})]})}):e.jsxs("span",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[e.jsx(P,{icon:t.icon,width:20,sx:{color:"grey.500"}}),e.jsx(o,{variant:"body2",children:t.label})]})},t.key))})}),e.jsx(M,{children:v.length===0?e.jsx(y,{children:e.jsx(m,{colSpan:x.length,align:"center",children:e.jsx(V,{sx:{py:10},title:"No employee task data found."})})}):v.slice(u*c,u*c+c).map(t=>e.jsx(y,{children:x.map(s=>e.jsx(m,{align:"center",size:"small",sx:{borderRight:s.key!=="pending_tasks"?"1px dashed rgba(0, 0, 0, 0.1)":"",minWidth:120,verticalAlign:"middle"},children:s.key==="name"?e.jsxs(g,{direction:"row",spacing:2,alignItems:"center",sx:{width:"100%",display:"flex"},children:[e.jsx(F,{alt:t.name||"User",src:t.avatar,sx:{width:32,height:32,borderRadius:"50%",bgcolor:t.avatar,color:"white",fontSize:20},children:!t.avatar&&t.name?t.name.charAt(0).toUpperCase():"A"}),e.jsx(g,{direction:"column",spacing:.5,sx:{justifyContent:"center"},children:e.jsx(o,{variant:"body2",fontWeight:"bold",color:"text.primary",align:"left",children:t.name})})]}):e.jsx(K,{sx:{display:"inline-block",px:1.5,py:.5,borderRadius:1,fontWeight:"bold",color:a=>t[s.key]===0?"inherit":s.key.includes("completed_overrun")||s.key.includes("inprogress_overrun")||s.key.includes("pending_tasks")?a.palette.error.main:a.palette.text.primary},children:t[s.key]})},s.key))},t.employee_id))})]})]}),!b&&d.length>0&&e.jsx(L,{rowsPerPageOptions:[5,10,25],component:"div",count:d.length,rowsPerPage:c,page:u,onPageChange:_,onRowsPerPageChange:E})]})}const T={title:"Minimals UI: The starting point for your next project",description:"The starting point for your next project with Minimal UI Kit, built on the newest version of Material-UI Â©, ready to be customized to your style"};function Y(){return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsxs("title",{children:[" ",T.title]}),e.jsx("meta",{name:"description",content:T.description})]}),e.jsx(X,{})]})}export{Y as default};
