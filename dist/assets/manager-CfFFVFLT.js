import{r,s as q,as as M,bT as de,bU as qe,ax as pe,ay as X,j as e,az as U,A as Q,aA as he,bV as Qe,au as We,av as Oe,b as Ve,aB as ue,bW as K,n as re,bX as et,bY as tt,S as F,k as W,aU as ee,a as te,B as A,aY as Te,x as ye,H as B,I as u,C as oe,M as xe,c as L,G as _,aF as Fe,al as ge,a1 as Ge,i as He,_ as $,a2 as O,ba as Ue,bZ as _e,bb as ot,b_ as me,u as Re,an as Z,v as J,J as nt,b$ as st,c0 as ke,K as H,aE as at,c1 as rt,aa as lt,E as it,F as ct,c2 as dt,b7 as pt,a9 as ie,bC as ht,L as ut,a_ as Ke,Y as xt,c3 as gt,e as mt,bH as vt,w as jt,c4 as Ae,c5 as bt,a$ as Ct,b6 as ft,a7 as yt,c6 as kt,N as Tt,bI as Ft,c7 as Rt,y as It,ae as St,bc as $t,P as wt}from"./index-BXVaN-Bg.js";import{C as ve}from"./confirm-dialog-DwBTbcqe.js";import{T as Dt,u as At,g as Bt,r as zt}from"./table-pagination-custom-DELtcPLa.js";import{T as Pt}from"./table-no-data-DLCp78j2.js";import{T as Et}from"./table-head-custom-CNktS7mP.js";import{C as V}from"./Checkbox-DIz0V3dn.js";import{d as je}from"./format-number-DrEElRjc.js";import{D as Ie}from"./DialogTitle-BTq9gtTJ.js";import{a as Se,C as le,D as Ye}from"./DialogContent-CxPgUekA.js";import{A as Lt}from"./Autocomplete-DxNy6pfN.js";import{A as Be,D as ze}from"./DatePicker-01LY8aSd.js";import{U as Mt}from"./image-DGI4zpN2.js";import{F as Nt,a as be,c as Ce}from"./filters-result-DCGeM_5H.js";import{B as Wt}from"./Breadcrumbs-DjhM_bul.js";import"./FormControlLabel-BRFnA9-2.js";import"./createStyled-mUU3E4G-.js";function Ot(t){return r.Children.toArray(t).filter(o=>r.isValidElement(o))}const Vt=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],Pe={small:-16,medium:null},Gt=t=>{const{classes:o}=t;return he({root:["root"],avatar:["avatar"]},Qe,o)},Ht=q("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,o)=>M({[`& .${de.avatar}`]:o.avatar},o.root)})(({theme:t,ownerState:o})=>{const s=o.spacing&&Pe[o.spacing]!==void 0?Pe[o.spacing]:-o.spacing;return{[`& .${qe.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:s??-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"}}),$e=r.forwardRef(function(o,s){var n;const l=pe({props:o,name:"MuiAvatarGroup"}),{children:p,className:c,component:i="div",componentsProps:d={},max:x=5,renderSurplus:a,slotProps:b={},spacing:C="medium",total:g,variant:m="circular"}=l,f=X(l,Vt);let v=x<2?2:x;const k=M({},l,{max:x,spacing:C,component:i,variant:m}),h=Gt(k),T=r.Children.toArray(p).filter(z=>r.isValidElement(z)),y=g||T.length;y===v&&(v+=1),v=Math.min(y+1,v);const j=Math.min(T.length,v-1),P=Math.max(y-v,y-j,0),R=a?a(P):`+${P}`,S=(n=b.additionalAvatar)!=null?n:d.additionalAvatar;return e.jsxs(Ht,M({as:i,ownerState:k,className:U(h.root,c),ref:s},f,{children:[P?e.jsx(Q,M({variant:m},S,{className:U(h.avatar,S==null?void 0:S.className),children:R})):null,T.slice(0,j).reverse().map(z=>r.cloneElement(z,{className:U(z.props.className,h.avatar),variant:z.props.variant||m}))]}))});function Ut(t){return Oe("MuiCardActionArea",t)}const fe=We("MuiCardActionArea",["root","focusVisible","focusHighlight"]),_t=["children","className","focusVisibleClassName"],Kt=t=>{const{classes:o}=t;return he({root:["root"],focusHighlight:["focusHighlight"]},Ut,o)},Yt=q(Ve,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,o)=>o.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${fe.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${fe.focusVisible} .${fe.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),Jt=q("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,o)=>o.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),Xt=r.forwardRef(function(o,s){const n=pe({props:o,name:"MuiCardActionArea"}),{children:l,className:p,focusVisibleClassName:c}=n,i=X(n,_t),d=n,x=Kt(d);return e.jsxs(Yt,M({className:U(x.root,p),focusVisibleClassName:U(c,x.focusVisible),ref:s,ownerState:d},i,{children:[l,e.jsx(Jt,{className:x.focusHighlight,ownerState:d})]}))}),Je=r.createContext({}),Xe=r.createContext(void 0);function Zt(t,o){return o===void 0||t===void 0?!1:Array.isArray(o)?o.indexOf(t)>=0:t===o}const qt=["value"],Qt=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],eo=t=>{const{classes:o,fullWidth:s,selected:n,disabled:l,size:p,color:c}=t,i={root:["root",n&&"selected",l&&"disabled",s&&"fullWidth",`size${ue(p)}`,c]};return he(i,tt,o)},to=q(Ve,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[`size${ue(s.size)}`]]}})(({theme:t,ownerState:o})=>{let s=o.color==="standard"?t.palette.text.primary:t.palette[o.color].main,n;return t.vars&&(s=o.color==="standard"?t.vars.palette.text.primary:t.vars.palette[o.color].main,n=o.color==="standard"?t.vars.palette.text.primaryChannel:t.vars.palette[o.color].mainChannel),M({},t.typography.button,{borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active},o.fullWidth&&{width:"100%"},{[`&.${K.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:re(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${K.selected}`]:{color:s,backgroundColor:t.vars?`rgba(${n} / ${t.vars.palette.action.selectedOpacity})`:re(s,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${n} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:re(s,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${n} / ${t.vars.palette.action.selectedOpacity})`:re(s,t.palette.action.selectedOpacity)}}}},o.size==="small"&&{padding:7,fontSize:t.typography.pxToRem(13)},o.size==="large"&&{padding:15,fontSize:t.typography.pxToRem(15)})}),Ee=r.forwardRef(function(o,s){const n=r.useContext(Je),{value:l}=n,p=X(n,qt),c=r.useContext(Xe),i=et(M({},p,{selected:Zt(o.value,l)}),o),d=pe({props:i,name:"MuiToggleButton"}),{children:x,className:a,color:b="standard",disabled:C=!1,disableFocusRipple:g=!1,fullWidth:m=!1,onChange:f,onClick:v,selected:k,size:h="medium",value:T}=d,y=X(d,Qt),j=M({},d,{color:b,disabled:C,disableFocusRipple:g,fullWidth:m,size:h}),P=eo(j),R=z=>{v&&(v(z,T),z.defaultPrevented)||f&&f(z,T)},S=c||"";return e.jsx(to,M({className:U(p.className,P.root,a,S),disabled:C,focusRipple:!g,ref:s,onClick:R,onChange:f,value:T,ownerState:j,"aria-pressed":k},y,{children:x}))});function oo(t){return Oe("MuiToggleButtonGroup",t)}const w=We("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),no=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],so=t=>{const{classes:o,orientation:s,fullWidth:n,disabled:l}=t,p={root:["root",s==="vertical"&&"vertical",n&&"fullWidth"],grouped:["grouped",`grouped${ue(s)}`,l&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return he(p,oo,o)},ao=q("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[{[`& .${w.grouped}`]:o.grouped},{[`& .${w.grouped}`]:o[`grouped${ue(s.orientation)}`]},{[`& .${w.firstButton}`]:o.firstButton},{[`& .${w.lastButton}`]:o.lastButton},{[`& .${w.middleButton}`]:o.middleButton},o.root,s.orientation==="vertical"&&o.vertical,s.fullWidth&&o.fullWidth]}})(({ownerState:t,theme:o})=>M({display:"inline-flex",borderRadius:(o.vars||o).shape.borderRadius},t.orientation==="vertical"&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${w.grouped}`]:M({},t.orientation==="horizontal"?{[`&.${w.selected} + .${w.grouped}.${w.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${w.selected} + .${w.grouped}.${w.selected}`]:{borderTop:0,marginTop:0}})},t.orientation==="horizontal"?{[`& .${w.firstButton},& .${w.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${w.lastButton},& .${w.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${w.firstButton},& .${w.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${w.lastButton},& .${w.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},t.orientation==="horizontal"?{[`& .${w.lastButton}.${K.disabled},& .${w.middleButton}.${K.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${w.lastButton}.${K.disabled},& .${w.middleButton}.${K.disabled}`]:{borderTop:"1px solid transparent"}})),ro=r.forwardRef(function(o,s){const n=pe({props:o,name:"MuiToggleButtonGroup"}),{children:l,className:p,color:c="standard",disabled:i=!1,exclusive:d=!1,fullWidth:x=!1,onChange:a,orientation:b="horizontal",size:C="medium",value:g}=n,m=X(n,no),f=M({},n,{disabled:i,fullWidth:x,orientation:b,size:C}),v=so(f),k=r.useCallback((R,S)=>{if(!a)return;const z=g&&g.indexOf(S);let N;g&&z>=0?(N=g.slice(),N.splice(z,1)):N=g?g.concat(S):[S],a(R,N)},[a,g]),h=r.useCallback((R,S)=>{a&&a(R,g===S?null:S)},[a,g]),T=r.useMemo(()=>({className:v.grouped,onChange:d?h:k,value:g,size:C,fullWidth:x,color:c,disabled:i}),[v.grouped,d,h,k,g,C,x,c,i]),y=Ot(l),j=y.length,P=R=>{const S=R===0,z=R===j-1;return S&&z?"":S?v.firstButton:z?v.lastButton:v.middleButton};return e.jsx(ao,M({role:"group",className:U(v.root,p),ref:s,ownerState:f},m,{children:e.jsx(Je.Provider,{value:T,children:y.map((R,S)=>e.jsx(Xe.Provider,{value:P(S),children:R},S))})}))});function lo({dense:t,action:o,rowCount:s,numSelected:n,onSelectAllRows:l,sx:p,...c}){return n?e.jsxs(F,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter",...t&&{height:38},...p},...c,children:[e.jsx(V,{indeterminate:!!n&&n<s,checked:!!s&&n===s,onChange:i=>l(i.target.checked)}),e.jsxs(W,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:"primary.main",...t&&{ml:3}},children:[n," selected"]}),o&&o]}):null}const io=ee(e.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work"),co=ee(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm-3.06 16L7.4 14.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zM13 9V3.5L18.5 9z"}),"Task"),po=ee(e.jsx("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8z"}),"Folder"),Le=ee(e.jsx("path",{d:"M14 9v2h-3V9H8.5V7H11V1H4v6h2.5v2H4v6h2.5v2H4v6h7v-6H8.5v-2H11v-2h3v2h7V9z"}),"Schema"),ho=ee(e.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");function we(){const[t,o]=r.useState(null),s=r.useCallback(async l=>{if(!(navigator!=null&&navigator.clipboard))return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(l),o(l),!0}catch(p){return console.warn("Copy failed",p),o(null),!1}},[o]);return r.useMemo(()=>({copy:s,copiedText:t}),[s,t])}function Ze({person:t}){const[o,s]=r.useState(t.permission),n=te(),l=r.useCallback(p=>{s(p)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(A,{component:"li",sx:{display:"flex",alignItems:"center",py:1},children:[e.jsx(Q,{alt:t.name,src:t.avatarUrl,sx:{mr:2}}),e.jsx(Te,{primary:t.name,secondary:e.jsx(ye,{title:t.email,children:e.jsx("span",{children:t.email})}),primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{noWrap:!0,component:"span"},sx:{flexGrow:1,pr:1}}),e.jsxs(B,{size:"small",color:"inherit",endIcon:e.jsx(u,{width:16,icon:n.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),onClick:n.onOpen,sx:{flexShrink:0,fontSize:p=>p.typography.pxToRem(12),...n.open&&{bgcolor:"action.selected"}},children:["Can ",o]})]}),e.jsx(oe,{open:n.open,anchorEl:n.anchorEl,onClose:n.onClose,children:e.jsxs(xe,{children:[e.jsxs(L,{selected:o==="view",onClick:()=>{n.onClose(),l("view")},children:[e.jsx(u,{icon:"solar:eye-bold"}),"Can view"]}),e.jsxs(L,{selected:o==="edit",onClick:()=>{n.onClose(),l("edit")},children:[e.jsx(u,{icon:"solar:pen-bold"}),"Can edit"]}),e.jsx(_,{sx:{borderStyle:"dashed"}}),e.jsxs(L,{onClick:()=>{n.onClose()},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Remove"]})]})})]})}function ne({open:t,shared:o,onClose:s,onCopyLink:n,inviteEmail:l,onChangeInvite:p,...c}){const i=o&&!!o.length;return e.jsxs(Fe,{fullWidth:!0,maxWidth:"xs",open:t,onClose:s,...c,children:[e.jsx(Ie,{children:" Invite "}),e.jsx(A,{sx:{px:3},children:p&&e.jsx(ge,{fullWidth:!0,value:l,placeholder:"Email",onChange:p,InputProps:{endAdornment:e.jsx(Ge,{position:"end",children:e.jsx(B,{color:"inherit",variant:"contained",disabled:!l,sx:{mr:-.75},children:"Send Invite"})})},sx:{mb:2}})}),i&&e.jsx(He,{sx:{height:60*5,px:3},children:e.jsx(A,{component:"ul",children:o.map(d=>e.jsx(Ze,{person:d},d.id))})}),e.jsxs(Se,{sx:{justifyContent:"space-between"},children:[n&&e.jsx(B,{startIcon:e.jsx(u,{icon:"eva:link-2-fill"}),onClick:n,children:"Copy link"}),s&&e.jsx(B,{variant:"outlined",color:"inherit",onClick:s,children:"Close"})]})]})}function De({item:t,open:o,onClose:s,onDelete:n,favorited:l,onFavorite:p,onCopyLink:c,...i}){const{name:d,size:x,url:a,type:b,shared:C,modifiedAt:g}=t,m=C&&!!C.length,f=$(!0),v=$(),k=$(!0),[h,T]=r.useState(""),[y,j]=r.useState(t.tags.slice(0,3)),P=r.useCallback(D=>{T(D.target.value)},[]),R=r.useCallback(D=>{j(D)},[]),S=e.jsxs(F,{spacing:1.5,children:[e.jsxs(F,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{typography:"subtitle2"},children:["Tags",e.jsx(O,{size:"small",onClick:f.onToggle,children:e.jsx(u,{icon:f.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"})})]}),f.value&&e.jsx(Lt,{multiple:!0,freeSolo:!0,options:t.tags.map(D=>D),getOptionLabel:D=>D,defaultValue:t.tags.slice(0,3),value:y,onChange:(D,E)=>{R(E)},renderOption:(D,E)=>r.createElement("li",{...D,key:E},E),renderTags:(D,E)=>D.map((I,G)=>r.createElement(le,{...E({index:G}),size:"small",variant:"soft",label:I,key:I})),renderInput:D=>e.jsx(ge,{...D,placeholder:"#Add a tags"})})]}),z=e.jsxs(F,{spacing:1.5,children:[e.jsxs(F,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{typography:"subtitle2"},children:["Properties",e.jsx(O,{size:"small",onClick:k.onToggle,children:e.jsx(u,{icon:k.value?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"})})]}),k.value&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{direction:"row",sx:{typography:"caption",textTransform:"capitalize"},children:[e.jsx(A,{component:"span",sx:{width:80,color:"text.secondary",mr:2},children:"Size"}),je(x)]}),e.jsxs(F,{direction:"row",sx:{typography:"caption",textTransform:"capitalize"},children:[e.jsx(A,{component:"span",sx:{width:80,color:"text.secondary",mr:2},children:"Modified"}),Ue(g)]}),e.jsxs(F,{direction:"row",sx:{typography:"caption",textTransform:"capitalize"},children:[e.jsx(A,{component:"span",sx:{width:80,color:"text.secondary",mr:2},children:"Type"}),_e(b)]})]})]}),N=e.jsxs(e.Fragment,{children:[e.jsxs(F,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5},children:[e.jsx(W,{variant:"subtitle2",children:" Share with "}),e.jsx(O,{size:"small",color:"primary",onClick:v.onTrue,sx:{width:24,height:24,bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}},children:e.jsx(u,{icon:"mingcute:add-line"})})]}),m&&e.jsx(A,{component:"ul",sx:{pl:2,pr:1},children:C.map(D=>e.jsx(Ze,{person:D},D.id))})]});return e.jsxs(e.Fragment,{children:[e.jsxs(ot,{open:o,onClose:s,anchor:"right",slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},...i,children:[e.jsxs(He,{children:[e.jsxs(F,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:2.5},children:[e.jsx(W,{variant:"h6",children:" Info "}),e.jsx(V,{color:"warning",icon:e.jsx(u,{icon:"eva:star-outline"}),checkedIcon:e.jsx(u,{icon:"eva:star-fill"}),checked:l,onChange:p})]}),e.jsxs(F,{spacing:2.5,justifyContent:"center",sx:{p:2.5,bgcolor:"background.neutral"},children:[e.jsx(me,{file:b}),e.jsx(W,{variant:"subtitle1",sx:{wordBreak:"break-all"},children:d}),e.jsx(_,{sx:{borderStyle:"dashed"}}),S,z]}),N]}),e.jsx(A,{sx:{p:2.5},children:e.jsx(B,{fullWidth:!0,variant:"soft",color:"error",size:"large",startIcon:e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),onClick:n,children:"Delete"})})]}),e.jsx(ne,{open:v.value,shared:C,inviteEmail:h,onChangeInvite:P,onCopyLink:c,onClose:()=>{v.onFalse(),T("")}})]})}function uo({row:t,selected:o,onSelectRow:s,onDeleteRow:n,folderPath:l,listFolders:p}){const c=Re(),{copy:i}=we(),[d,x]=r.useState(""),a=$(t.isFavorited),b=$(),C=$(),g=$(),m=te(),f=r.useCallback(h=>{x(h.target.value)},[]),v=r.useCallback(()=>{Z.success("Copied!"),i(t.url)},[i,t.url]),k={borderTop:`solid 1px ${J(c.vars.palette.grey["500Channel"],.16)}`,borderBottom:`solid 1px ${J(c.vars.palette.grey["500Channel"],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${J(c.vars.palette.grey["500Channel"],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${J(c.vars.palette.grey["500Channel"],.16)}`}};return e.jsxs(e.Fragment,{children:[e.jsxs(nt,{selected:o,sx:{borderRadius:2,[`&.${st.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:c.customShadows.z20,transition:c.transitions.create(["background-color","box-shadow"],{duration:c.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:c.customShadows.z20}},[`& .${ke.root}`]:{...k},...b.value&&{[`& .${ke.root}`]:{...k}}},children:[e.jsx(H,{padding:"checkbox",children:e.jsx(V,{checked:o,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),onClick:s,inputProps:{id:`row-checkbox-${t.id}`,"aria-label":"row-checkbox"}})}),e.jsx(H,{onClick:()=>{if((t==null?void 0:t.type)==="folder"){const h=l?`${l}/${t==null?void 0:t.name}`:`${t==null?void 0:t.name}`;p(h)}else b.onTrue()},children:e.jsxs(F,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(me,{file:t.type}),e.jsx(W,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...b.value&&{fontWeight:"fontWeightBold"}},children:t.name})]})}),e.jsx(H,{onClick:()=>{if((t==null?void 0:t.type)==="folder"){const h=l?`${l}/${t==null?void 0:t.name}`:`${t==null?void 0:t.name}`;p(h)}else b.onTrue()},sx:{whiteSpace:"nowrap"},children:je(t.size)}),e.jsx(H,{onClick:()=>{if((t==null?void 0:t.type)==="folder"){const h=l?`${l}/${t==null?void 0:t.name}`:`${t==null?void 0:t.name}`;p(h)}else b.onTrue()},sx:{whiteSpace:"nowrap"},children:t.type}),e.jsx(H,{onClick:()=>{if((t==null?void 0:t.type)==="folder"){const h=l?`${l}/${t==null?void 0:t.name}`:`${t==null?void 0:t.name}`;p(h)}else b.onTrue()},sx:{whiteSpace:"nowrap"},children:e.jsx(Te,{primary:at(t.modifiedAt),secondary:rt(t.modifiedAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(H,{align:"right",onClick:()=>{if((t==null?void 0:t.type)==="folder"){const h=l?`${l}/${t==null?void 0:t.name}`:`${t==null?void 0:t.name}`;p(h)}else b.onTrue()},children:e.jsx($e,{max:4,sx:{display:"inline-flex",[`& .${de.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:t.shared&&t.shared.map(h=>e.jsx(Q,{alt:h.name,src:h.avatarUrl},h.id))})}),e.jsxs(H,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(V,{color:"warning",icon:e.jsx(u,{icon:"eva:star-outline"}),checkedIcon:e.jsx(u,{icon:"eva:star-fill"}),checked:a.value,onChange:a.onToggle,sx:{p:.75}}),e.jsx(O,{color:m.open?"inherit":"default",onClick:m.onOpen,children:e.jsx(u,{icon:"eva:more-vertical-fill"})})]})]}),e.jsx(oe,{open:m.open,anchorEl:m.anchorEl,onClose:m.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(xe,{children:[e.jsxs(L,{onClick:()=>{m.onClose(),v()},children:[e.jsx(u,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(L,{onClick:()=>{m.onClose(),b.onTrue()},children:[e.jsx(u,{icon:"solar:eye-bold"}),"View Info"]}),e.jsxs(L,{onClick:()=>{m.onClose(),C.onTrue()},children:[e.jsx(u,{icon:"solar:share-bold"}),"Share"]}),e.jsx(_,{sx:{borderStyle:"dashed"}}),e.jsxs(L,{onClick:()=>{g.onTrue(),m.onClose()},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(De,{item:t,favorited:a.value,onFavorite:a.onToggle,onCopyLink:v,open:b.value,onClose:b.onFalse,onDelete:n}),e.jsx(ne,{open:C.value,shared:t.shared,inviteEmail:d,onChangeInvite:f,onCopyLink:v,onClose:()=>{C.onFalse(),x("")}}),e.jsx(ve,{open:g.value,onClose:g.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(B,{variant:"contained",color:"error",onClick:n,children:"Delete"})})]})}const xo=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function go({table:t,notFound:o,onDeleteRow:s,dataFiltered:n,onOpenConfirm:l,folderPath:p,listFolders:c}){const i=Re(),{dense:d,page:x,order:a,orderBy:b,rowsPerPage:C,selected:g,onSelectRow:m,onSelectAllRows:f,onSort:v,onChangeDense:k,onChangePage:h,onChangeRowsPerPage:T}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(A,{sx:{position:"relative",m:{md:i.spacing(-2,-3,0,-3)}},children:[e.jsx(lo,{dense:d,numSelected:g.length,rowCount:n.length,onSelectAllRows:y=>f(y,n.map(j=>j.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(ye,{title:"Share",children:e.jsx(O,{color:"primary",children:e.jsx(u,{icon:"solar:share-bold"})})}),e.jsx(ye,{title:"Delete",children:e.jsx(O,{color:"primary",onClick:l,children:e.jsx(u,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(lt,{sx:{px:{md:3}},children:e.jsxs(it,{size:d?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx(Et,{order:a,orderBy:b,headLabel:xo,rowCount:n.length,numSelected:g.length,onSort:v,onSelectAllRows:y=>f(y,n.map(j=>j.id)),sx:{[`& .${ke.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(ct,{children:[n.slice(x*C,x*C+C).map(y=>e.jsx(uo,{row:y,folderPath:p,listFolders:c,selected:g.includes(y.id),onSelectRow:()=>m(y.id),onDeleteRow:()=>s(y.id)},y.id)),e.jsx(Pt,{notFound:o,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${i.vars.palette.divider}`}})]})]})})]}),e.jsx(Dt,{page:x,dense:d,rowsPerPage:C,count:n.length,onPageChange:h,onChangeDense:k,onRowsPerPageChange:T,sx:{[`& .${dt.toolbar}`]:{borderTopColor:"transparent"}}})]})}function mo({open:t,error:o,endDate:s,onClose:n,startDate:l,onChangeEndDate:p,variant:c="input",onChangeStartDate:i,title:d="Select date range"}){const x=pt("up","md"),a=c==="calendar";return e.jsxs(Fe,{fullWidth:!0,maxWidth:a?!1:"xs",open:t,onClose:n,PaperProps:{sx:{...a&&{maxWidth:720}}},children:[e.jsx(Ie,{sx:{pb:2},children:d}),e.jsxs(Ye,{sx:{...a&&x&&{overflow:"unset"}},children:[e.jsx(F,{justifyContent:"center",spacing:a?3:2,direction:a&&x?"row":"column",sx:{pt:1},children:a?e.jsxs(e.Fragment,{children:[e.jsx(ie,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:e.jsx(Be,{value:l,onChange:i})}),e.jsx(ie,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:e.jsx(Be,{value:s,onChange:p})})]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{label:"Start date",value:l,onChange:i}),e.jsx(ze,{label:"End date",value:s,onChange:p})]})}),o&&e.jsx(ht,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),e.jsxs(Se,{children:[e.jsx(B,{variant:"outlined",color:"inherit",onClick:n,children:"Cancel"}),e.jsx(B,{disabled:o,variant:"contained",onClick:n,children:"Apply"})]})]})}function vo({filters:t,options:o,dateError:s,onResetPage:n,openDateRange:l,onOpenDateRange:p,onCloseDateRange:c}){const i=te(),d=t.state.type.length?t.state.type.slice(0,2).join(","):"All type",x=r.useCallback(h=>{n(),t.setState({name:h.target.value})},[t,n]),a=r.useCallback(h=>{n(),t.setState({startDate:h})},[t,n]),b=r.useCallback(h=>{t.setState({endDate:h})},[t]),C=r.useCallback(h=>{const T=t.state.type.includes(h)?t.state.type.filter(y=>y!==h):[...t.state.type,h];t.setState({type:T})},[t]),g=r.useCallback(()=>{i.onClose(),t.setState({type:[]})},[t,i]),m=r.useCallback(h=>{t.setState({favouriteFilter:h.target.checked})},[t]),f=e.jsx(ge,{value:t.state.name,onChange:x,placeholder:"Search...",InputProps:{startAdornment:e.jsx(Ge,{position:"start",children:e.jsx(u,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:260}}}),v=e.jsxs(e.Fragment,{children:[e.jsxs(B,{color:"inherit",onClick:i.onOpen,endIcon:e.jsx(u,{icon:i.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[d,t.state.type.length>2&&e.jsxs(ut,{color:"info",sx:{ml:1},children:["+",t.state.type.length-2]})]}),e.jsx(oe,{open:i.open,anchorEl:i.anchorEl,onClose:i.onClose,slotProps:{paper:{sx:{p:2.5}}},children:e.jsxs(F,{spacing:2.5,children:[e.jsx(A,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:o.types.map(h=>{const T=t.state.type.includes(h);return e.jsx(Xt,{onClick:()=>C(h),sx:{p:1,borderRadius:1,cursor:"pointer",border:y=>`solid 1px ${J(y.vars.palette.grey["500Channel"],.08)}`,...T&&{bgcolor:"action.selected"}},children:e.jsxs(F,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"caption",textTransform:"capitalize",...T&&{fontWeight:"fontWeightSemiBold"}},children:[e.jsx(me,{file:h,sx:{width:24,height:24}}),h]})},h)})}),e.jsxs(F,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(B,{variant:"outlined",color:"inherit",onClick:g,children:"Clear"}),e.jsx(B,{variant:"contained",onClick:i.onClose,children:"Apply"})]})]})})]}),k=e.jsxs(e.Fragment,{children:[e.jsx(V,{color:"warning",icon:e.jsx(u,{icon:"eva:star-outline"}),checkedIcon:e.jsx(u,{icon:"eva:star-fill"}),checked:t.favouriteFilter,onChange:m}),e.jsx(B,{color:"inherit",onClick:p,endIcon:e.jsx(u,{icon:l?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:t.state.startDate&&t.state.endDate?Ke(t.state.startDate,t.state.endDate):"Select date"}),e.jsx(mo,{variant:"calendar",startDate:t.state.startDate,endDate:t.state.endDate,onChangeStartDate:a,onChangeEndDate:b,open:l,onClose:c,selected:!!t.state.startDate&&!!t.state.endDate,error:s})]});return e.jsxs(F,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},sx:{width:1},children:[f,e.jsxs(F,{spacing:1,direction:"row",alignItems:"center",justifyContent:"flex-end",flexGrow:1,children:[k,v]})]})}function Me({sx:t,link:o,title:s,onOpen:n,subtitle:l,collapse:p,onCollapse:c,...i}){return e.jsxs(F,{direction:"row",alignItems:"center",sx:{mb:3,...t},...i,children:[e.jsxs(F,{flexGrow:1,children:[e.jsxs(F,{direction:"row",alignItems:"center",spacing:1,flexGrow:1,children:[e.jsxs(W,{variant:"h6",children:[" ",s," "]}),e.jsx(O,{size:"small",color:"primary",onClick:n,sx:{width:24,height:24,bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}},children:e.jsx(u,{icon:"mingcute:add-line"})})]}),e.jsx(A,{sx:{typography:"body2",color:"text.disabled",mt:.5},children:l})]}),o&&e.jsx(B,{href:o,component:xt,size:"small",color:"inherit",endIcon:e.jsx(u,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),children:"View all"}),c&&e.jsx(O,{onClick:c,children:e.jsx(u,{icon:p?"eva:arrow-ios-downward-fill":"eva:arrow-ios-upward-fill"})})]})}function jo({file:t,selected:o,onSelect:s,onDelete:n,sx:l,...p}){var P;const c=Re(),i=$(),d=$(),x=$(),a=te(),b=$(),{copy:C}=we(),g=$(t.isFavorited),[m,f]=r.useState(""),v=r.useCallback(R=>{f(R.target.value)},[]),k=r.useCallback(()=>{Z.success("Copied!"),C(t.url)},[C,t.url]),h=e.jsx(A,{onMouseEnter:b.onTrue,onMouseLeave:b.onFalse,sx:{display:"inline-flex",width:36,height:36},children:(b.value||o)&&s?e.jsx(V,{checked:o,onClick:s,icon:e.jsx(u,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(u,{icon:"eva:checkmark-circle-2-fill"}),inputProps:{id:`item-checkbox-${t.id}`,"aria-label":"Item checkbox"},sx:{width:1,height:1}}):e.jsx(me,{file:t.type,sx:{width:1,height:1}})}),T=e.jsxs(F,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[e.jsx(V,{color:"warning",icon:e.jsx(u,{icon:"eva:star-outline"}),checkedIcon:e.jsx(u,{icon:"eva:star-fill"}),checked:g.value,onChange:g.onToggle,inputProps:{id:`favorite-checkbox-${t.id}`,"aria-label":"Favorite checkbox"}}),e.jsx(O,{color:a.open?"inherit":"default",onClick:a.onOpen,children:e.jsx(u,{icon:"eva:more-vertical-fill"})})]}),y=e.jsxs(e.Fragment,{children:[e.jsx(W,{variant:"subtitle2",onClick:x.onTrue,sx:{...gt({line:2,persistent:c.typography.subtitle2}),mt:2,mb:.5,width:1},children:t.name}),e.jsxs(F,{direction:"row",alignItems:"center",sx:{maxWidth:.99,whiteSpace:"nowrap",typography:"caption",color:"text.disabled"},children:[je(t.size),e.jsx(A,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx(W,{noWrap:!0,component:"span",variant:"caption",children:Ue(t.modifiedAt)})]})]}),j=e.jsx($e,{max:3,sx:{mt:1,[`& .${de.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(P=t.shared)==null?void 0:P.map(R=>e.jsx(Q,{alt:R.name,src:R.avatarUrl},R.id))});return e.jsxs(e.Fragment,{children:[e.jsxs(ie,{variant:"outlined",sx:{p:2.5,display:"flex",borderRadius:2,cursor:"pointer",position:"relative",bgcolor:"transparent",flexDirection:"column",alignItems:"flex-start",...(b.value||o)&&{bgcolor:"background.paper",boxShadow:c.customShadows.z20},...l},...p,children:[h,y,j,T]}),e.jsx(oe,{open:a.open,anchorEl:a.anchorEl,onClose:a.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(xe,{children:[e.jsxs(L,{onClick:()=>{a.onClose(),k()},children:[e.jsx(u,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(L,{onClick:()=>{a.onClose(),i.onTrue()},children:[e.jsx(u,{icon:"solar:share-bold"}),"Share"]}),e.jsx(_,{sx:{borderStyle:"dashed"}}),e.jsxs(L,{onClick:()=>{d.onTrue(),a.onClose()},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(De,{item:t,favorited:g.value,onFavorite:g.onToggle,onCopyLink:k,open:x.value,onClose:x.onFalse,onDelete:()=>{x.onFalse(),n()}}),e.jsx(ne,{open:i.value,shared:t.shared,inviteEmail:m,onChangeInvite:v,onCopyLink:k,onClose:()=>{i.onFalse(),f("")}}),e.jsx(ve,{open:d.value,onClose:d.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(B,{variant:"contained",color:"error",onClick:n,children:"Delete"})})]})}function ce({open:t,onClose:o,onCreate:s,onUpdate:n,folderName:l,onChangeFolderName:p,title:c="Upload files",...i}){const[d,x]=r.useState([]);r.useEffect(()=>{t||x([])},[t]);const a=r.useCallback(m=>{x([...d,...m])},[d]),b=()=>{o(),console.info("ON UPLOAD")},C=m=>{const f=d.filter(v=>v!==m);x(f)},g=()=>{x([])};return e.jsxs(Fe,{fullWidth:!0,maxWidth:"sm",open:t,onClose:o,...i,children:[e.jsxs(Ie,{sx:{p:m=>m.spacing(3,3,2,3)},children:[" ",c," "]}),e.jsxs(Ye,{dividers:!0,sx:{pt:1,pb:0,border:"none"},children:[(s||n)&&e.jsx(ge,{fullWidth:!0,label:"Folder name",value:l,onChange:p,sx:{mb:3}}),e.jsx(Mt,{multiple:!0,value:d,onDrop:a,onRemove:C})]}),e.jsxs(Se,{children:[e.jsx(B,{variant:"contained",startIcon:e.jsx(u,{icon:"eva:cloud-upload-fill"}),onClick:b,children:"Upload"}),!!d.length&&e.jsx(B,{variant:"outlined",color:"inherit",onClick:g,children:"Remove all"}),(s||n)&&e.jsx(F,{direction:"row",justifyContent:"flex-end",flexGrow:1,children:e.jsx(B,{variant:"soft",onClick:s||n,children:n?"Save":"Create"})})]})]})}function bo({sx:t,folder:o,selected:s,folderPath:n,listFolders:l,onSelect:p,onDelete:c,...i}){var D,E;const{copy:d}=we(),x=$(),a=te(),b=$(),C=$(),g=$(),m=$(),f=$(o.isFavorited),[v,k]=r.useState(""),[h,T]=r.useState(o.name),y=r.useCallback(I=>{k(I.target.value)},[]),j=r.useCallback(I=>{T(I.target.value)},[]),P=r.useCallback(()=>{Z.success("Copied!"),d(o.url)},[d,o.url]),R=e.jsxs(F,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[e.jsx(V,{color:"warning",icon:e.jsx(u,{icon:"eva:star-outline"}),checkedIcon:e.jsx(u,{icon:"eva:star-fill"}),checked:f.value,onChange:f.onToggle,inputProps:{name:"checkbox-favorite","aria-label":"Checkbox favorite"}}),e.jsx(O,{color:a.open?"inherit":"default",onClick:a.onOpen,children:e.jsx(u,{icon:"eva:more-vertical-fill"})})]}),S=e.jsx(A,{onMouseEnter:g.onTrue,onMouseLeave:g.onFalse,sx:{width:36,height:36},children:(g.value||s)&&p?e.jsx(V,{checked:s,onClick:p,icon:e.jsx(u,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(u,{icon:"eva:checkmark-circle-2-fill"}),sx:{width:1,height:1}}):e.jsx(A,{component:"img",src:`${mt.site.basePath}/assets/icons/files/ic-folder.svg`,sx:{width:1,height:1}})}),z=e.jsx(Te,{onClick:()=>{const I=n?`${n}/${o==null?void 0:o.name}`:`${o==null?void 0:o.name}`;l(I)},primary:o.name,secondary:e.jsxs(e.Fragment,{children:[je(o.size),e.jsx(A,{component:"span",sx:{mx:.75,width:2,height:2,borderRadius:"50%",bgcolor:"currentColor"}}),o.totalFolders," folders",e.jsx(A,{component:"span",sx:{mx:.75,width:2,height:2,borderRadius:"50%",bgcolor:"currentColor"}}),o.totalFiles," files"]}),primaryTypographyProps:{noWrap:!0,typography:"subtitle1"},secondaryTypographyProps:{mt:.5,component:"span",alignItems:"center",typography:"caption",color:"text.disabled",display:"inline-flex"}}),N=e.jsx($e,{max:3,sx:{[`& .${de.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(D=o.shared)==null?void 0:D.map(I=>e.jsx(Q,{alt:I.name,src:I.avatarUrl},I.id))});return e.jsxs(e.Fragment,{children:[e.jsxs(ie,{variant:"outlined",sx:{gap:1,p:2.5,maxWidth:222,display:"flex",borderRadius:2,cursor:"pointer",position:"relative",bgcolor:"transparent",flexDirection:"column",alignItems:"flex-start",...(g.value||s)&&{bgcolor:"background.paper",boxShadow:I=>I.customShadows.z20},...t},...i,children:[S,R,z,!!((E=o==null?void 0:o.shared)!=null&&E.length)&&N]}),e.jsx(oe,{open:a.open,anchorEl:a.anchorEl,onClose:a.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(xe,{children:[e.jsxs(L,{onClick:()=>{a.onClose(),P()},children:[e.jsx(u,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(L,{onClick:()=>{a.onClose(),C.onTrue()},children:[e.jsx(u,{icon:"solar:eye-bold"}),"View Info"]}),e.jsxs(L,{onClick:()=>{a.onClose(),x.onTrue()},children:[e.jsx(u,{icon:"solar:share-bold"}),"Share"]}),e.jsxs(L,{onClick:()=>{a.onClose(),m.onTrue()},children:[e.jsx(u,{icon:"solar:pen-bold"}),"Edit"]}),e.jsx(_,{sx:{borderStyle:"dashed"}}),e.jsxs(L,{onClick:()=>{b.onTrue(),a.onClose()},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(De,{item:o,favorited:f.value,onFavorite:f.onToggle,onCopyLink:P,open:C.value,onClose:C.onFalse,onDelete:()=>{C.onFalse(),c()}}),e.jsx(ne,{open:x.value,shared:o.shared,inviteEmail:v,onChangeInvite:y,onCopyLink:P,onClose:()=>{x.onFalse(),k("")}}),e.jsx(ce,{open:m.value,onClose:m.onFalse,title:"Edit Folder",onUpdate:()=>{m.onFalse(),T(h),console.info("UPDATE FOLDER",h)},folderName:h,onChangeFolderName:j}),e.jsx(ve,{open:b.value,onClose:b.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(B,{variant:"contained",color:"error",onClick:c,children:"Delete"})})]})}function Co({action:t,selected:o,rowCount:s,numSelected:n,onSelectAllItems:l,sx:p,...c}){return e.jsx(vt,{children:e.jsxs(A,{sx:{right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:i=>i.spacing(1.5,2,1.5,1),boxShadow:i=>i.customShadows.z20,m:{xs:2,md:3},...p},...c,children:[e.jsx(V,{indeterminate:!!n&&n<s,checked:!!s&&n===s,onChange:i=>l(i.target.checked),icon:e.jsx(u,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(u,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:e.jsx(u,{icon:"eva:minus-circle-fill"})}),o&&e.jsxs(W,{variant:"subtitle2",sx:{mr:2,color:"common.white",[jt.dark]:{color:"grey.800"}},children:[o.length," Items selected"]}),t&&t]})})}function fo({table:t,dataFiltered:o,onDeleteItem:s,onOpenConfirm:n,folderPath:l,listFolders:p}){const{selected:c,onSelectRow:i,onSelectAllRows:d}=t,x=$(),a=$(),b=$(),C=$(),g=$(),m=r.useRef(null),[f,v]=r.useState(""),[k,h]=r.useState(""),T=r.useCallback(j=>{h(j.target.value)},[]),y=r.useCallback(j=>{v(j.target.value)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(A,{ref:m,children:[e.jsx(Me,{title:"Folders",subtitle:`${o.filter(j=>j.type==="folder").length} folders`,onOpen:g.onTrue,collapse:C.value,onCollapse:C.onToggle}),e.jsx(Ae,{in:!C.value,unmountOnExit:!0,children:e.jsx(A,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},children:o.filter(j=>j.type==="folder").map(j=>e.jsx(bo,{folder:j,folderPath:l,listFolders:p,selected:c.includes(j.id),onSelect:()=>i(j.id),onDelete:()=>s(j.id),sx:{maxWidth:"auto"}},j.id))})}),e.jsx(_,{sx:{my:5,borderStyle:"dashed"}}),e.jsx(Me,{title:"Files",subtitle:`${o.filter(j=>j.type!=="folder").length} files`,onOpen:b.onTrue,collapse:a.value,onCollapse:a.onToggle}),e.jsx(Ae,{in:!a.value,unmountOnExit:!0,children:e.jsx(A,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,children:o.filter(j=>j.type!=="folder").map(j=>e.jsx(jo,{file:j,selected:c.includes(j.id),onSelect:()=>i(j.id),onDelete:()=>s(j.id),sx:{maxWidth:"auto"}},j.id))})}),!!(c!=null&&c.length)&&e.jsx(Co,{numSelected:c.length,rowCount:o.length,selected:c,onSelectAllItems:j=>d(j,o.map(P=>P.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(B,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),onClick:n,sx:{mr:1},children:"Delete"}),e.jsx(B,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(u,{icon:"solar:share-bold"}),onClick:x.onTrue,children:"Share"})]})})]}),e.jsx(ne,{open:x.value,inviteEmail:k,onChangeInvite:T,onClose:()=>{x.onFalse(),h("")}}),e.jsx(ce,{open:b.value,onClose:b.onFalse}),e.jsx(ce,{open:g.value,onClose:g.onFalse,title:"New Folder",onCreate:()=>{g.onFalse(),v(""),console.info("CREATE NEW FOLDER",f)},folderName:f,onChangeFolderName:y})]})}function yo({filters:t,onResetPage:o,totalResults:s,sx:n}){const l=r.useCallback(()=>{o(),t.setState({name:""})},[t,o]),p=r.useCallback(d=>{const x=t.state.type.filter(a=>a!==d);o(),t.setState({type:x})},[t,o]),c=r.useCallback(()=>{o(),t.setState({startDate:null,endDate:null})},[t,o]),i=r.useCallback(()=>{o(),t.onResetState()},[t,o]);return e.jsxs(Nt,{totalResults:s,onReset:i,sx:n,children:[e.jsx(be,{label:"Types:",isShow:!!t.state.type.length,children:t.state.type.map(d=>r.createElement(le,{...Ce,key:d,label:d,onDelete:()=>p(d),sx:{textTransform:"capitalize"}}))}),e.jsx(be,{label:"Date:",isShow:!!(t.state.startDate&&t.state.endDate),children:e.jsx(le,{...Ce,label:Ke(t.state.startDate,t.state.endDate),onDelete:c})}),e.jsx(be,{label:"Keyword:",isShow:!!t.state.name,children:e.jsx(le,{...Ce,label:t.state.name,onDelete:l})})]})}function ko(){const t=At({defaultRowsPerPage:10}),o=$(),s=$(),n=$(),[l,p]=r.useState("list");console.log("files",bt);const[c,i]=r.useState([]),[d,x]=r.useState(null),[a,b]=r.useState(""),[C,g]=r.useState(!1),m=Ct({name:"",type:[],startDate:null,endDate:null,favouriteFilter:!1}),f=ft(m.state.startDate,m.state.endDate),v=To({inputData:c,comparator:Bt(t.order,t.orderBy),filters:m.state,dateError:f}),k=zt(v,t.page,t.rowsPerPage),h=!!m.state.name||m.state.type.length>0||!!m.favouriteFilter||!!m.state.startDate&&!!m.state.endDate,T=!v.length&&h||!v.length,y=r.useCallback((E,I)=>{I!==null&&p(I)},[]),j=r.useCallback(E=>{const I=c.filter(G=>G.id!==E);Z.success("Delete success!"),i(I),t.onUpdatePageDeleteRow(k.length)},[k.length,t,c]),P=r.useCallback(()=>{const E=c.filter(I=>!t.selected.includes(I.id));Z.success("Delete success!"),i(E),t.onUpdatePageDeleteRows({totalRowsInPage:k.length,totalRowsFiltered:v.length})},[v.length,k.length,t,c]),R=r.useCallback(async E=>{var Y,se,ae;g(!0);const I={access_token:a,folder_path:E||d},G=await yt.post("/sharepoint/get_folder_data",I);((Y=G.data)==null?void 0:Y.status)===!0?(i((se=G.data)==null?void 0:se.files),x((ae=G.data)==null?void 0:ae.folder_path),g(!1)):(i([]),g(!1))},[d,a]);r.useEffect(()=>{a&&R()},[a,R]);const S=d?d.split("/"):[],z=[po,io,ho,co,Le],N=e.jsxs(F,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[e.jsx(vo,{filters:m,dateError:f,onResetPage:t.onResetPage,openDateRange:o.value,onOpenDateRange:o.onTrue,onCloseDateRange:o.onFalse,options:{types:kt}}),e.jsxs(ro,{size:"small",value:l,exclusive:!0,onChange:y,children:[e.jsx(Ee,{value:"list",children:e.jsx(u,{icon:"solar:list-bold"})}),e.jsx(Ee,{value:"grid",children:e.jsx(u,{icon:"mingcute:dot-grid-fill"})})]})]}),D=e.jsx(yo,{filters:m,totalResults:v.length,onResetPage:t.onResetPage});return e.jsxs(e.Fragment,{children:[e.jsxs(Tt,{children:[e.jsx(Ft,{sx:{color:"#fff",zIndex:E=>E.zIndex.drawer+1},open:C,children:e.jsx(Rt,{color:"inherit"})}),e.jsx(F,{direction:"row",alignItems:"center",justifyContent:"space-between",children:e.jsx(W,{variant:"h4",children:"File manager"})}),e.jsxs(F,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[N,h&&D]}),e.jsxs(F,{direction:"row",sx:{mb:2},alignItems:"center",justifyContent:"space-between",children:[e.jsx(A,{role:"presentation",children:e.jsx(Wt,{"aria-label":"breadcrumb",maxItems:2,children:S.map((E,I)=>{const G=z[I]||Le,Y=I===S.length-1,se=()=>{const ae=S.slice(0,I+1).join("/");R(ae)};return e.jsxs(It,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:Y?"textPrimary":"inherit",component:"button",onClick:se,disabled:Y,children:[e.jsx(G,{sx:{mr:.5},fontSize:"inherit"}),E]},I)})})}),e.jsx(B,{variant:"contained",startIcon:e.jsx(u,{icon:"eva:cloud-upload-fill"}),onClick:n.onTrue,children:"Upload"})]}),e.jsx(_,{variant:"middle",sx:{mb:2,borderStyle:"dashed"}}),T?e.jsx(St,{title:"No Data",filled:!0,sx:{py:10}}):e.jsx(e.Fragment,{children:l==="list"?e.jsx(go,{table:t,folderPath:d,listFolders:R,dataFiltered:v,onDeleteRow:j,notFound:T,onOpenConfirm:s.onTrue}):e.jsx(fo,{table:t,folderPath:d,listFolders:R,dataFiltered:v,onDeleteItem:j,onOpenConfirm:s.onTrue})})]}),e.jsx(ce,{open:n.value,onClose:n.onFalse}),e.jsx(ve,{open:s.value,onClose:s.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",t.selected.length," "]})," ","items?"]}),action:e.jsx(B,{variant:"contained",color:"error",onClick:()=>{P(),s.onFalse()},children:"Delete"})})]})}function To({inputData:t,comparator:o,filters:s,dateError:n}){const{name:l,type:p,startDate:c,endDate:i,favouriteFilter:d}=s,x=t.map((a,b)=>[a,b]);return x.sort((a,b)=>{const C=o(a[0],b[0]);return C!==0?C:a[1]-b[1]}),t=x.map(a=>a[0]),l&&(t=t.filter(a=>a.name.toLowerCase().indexOf(l.toLowerCase())!==-1)),d&&(console.log("favouriteFilter---->",d),t=t.filter(a=>d===a.isFavorited)),p.length&&(t=t.filter(a=>p.includes(_e(a.type)))),n||c&&i&&(t=t.filter(a=>$t(a.createdAt,c,i))),t}const Ne={title:"Dashboard: File Manager",description:"The starting point for your next project with Minimal UI Kit, built on the newest version of Material-UI Â©, ready to be customized to your style"};function Oo(){return e.jsxs(e.Fragment,{children:[e.jsxs(wt,{children:[e.jsxs("title",{children:[" ",Ne.title]}),e.jsx("meta",{name:"description",content:Ne.description})]}),e.jsx(ko,{})]})}export{Oo as default};
